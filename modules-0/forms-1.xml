<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">
	<h:head>
		<h:title>Hospital Registration</h:title>
		<model>
			<instance>
				<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/3440d06d7d022f5c3ea3058f4a93be7d6f89e867" uiVersion="1" version="558" name="Hospital Registration">
					<patient_info_list>
						<name/>
						<mrd/>
						<wife_of/>
						<dob_age_choice/>
						<dob_input/>
						<age_input/>
						<parity/>
						<gravida/>
						<lmp/>
					</patient_info_list>
					<icons>
						<clock/>
						<flag/>
					</icons>
					<patient_info_cont>
						<edd/>
					</patient_info_cont>
					<age/>
					<age_input/>
					<age_dob/>
					<parity/>
					<age_risk_1/>
					<age_no_risk_0/>
					<para_risk_1/>
					<para_no_risk_0/>
					<edd_calc/>
				<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id=""><create><case_name/><owner_id/><case_type>patient</case_type></create><update><age/><age_dob/><age_input/><age_no_risk_0/><age_risk_1/><edd_calc/><gravida/><lmp/><mrd/><para_no_risk_0/><para_risk_1/><parity/><wife_of/></update></case><orx:meta xmlns:cc="http://commcarehq.org/xforms"><orx:deviceID/><orx:timeStart/><orx:timeEnd/><orx:username/><orx:userID/><orx:instanceID/><cc:appVersion/></orx:meta></data>
			</instance><instance id="commcaresession" src="jr://instance/session"/>
			<bind nodeset="/data/patient_info_list"/>
			<bind nodeset="/data/patient_info_list/name" type="xsd:string" required="true()"/>
			<bind nodeset="/data/patient_info_list/mrd" type="xsd:int" required="true()"/>
			<bind nodeset="/data/patient_info_list/wife_of" type="xsd:string" required="false()"/>
			<bind nodeset="/data/patient_info_list/dob_age_choice"/>
			<bind nodeset="/data/patient_info_list/dob_input" type="xsd:date" relevant="/data/patient_info_list/dob_age_choice = 'dob'"/>
			<bind nodeset="/data/patient_info_list/age_input" type="xsd:int" constraint=". &gt;= '10'" relevant="/data/patient_info_list/dob_age_choice = 'age'" required="true()"/>
			<bind nodeset="/data/patient_info_list/parity" required="true()"/>
			<bind nodeset="/data/patient_info_list/gravida" required="true()"/>
			<bind nodeset="/data/patient_info_list/lmp" type="xsd:date"/>
			<bind nodeset="/data/icons" relevant="1=2"/>
			<bind nodeset="/data/icons/clock" type="xsd:string"/>
			<bind nodeset="/data/icons/flag" type="xsd:string"/>
			<bind nodeset="/data/patient_info_cont"/>
			<bind nodeset="/data/patient_info_cont/edd" relevant="/data/patient_info_list/lmp != ''"/>
			<bind nodeset="/data/age" calculate="if(/data/patient_info_list/dob_age_choice=&quot;dob&quot;,/data/age_dob,/data/age_input)"/>
			<bind nodeset="/data/age_input" calculate="/data/patient_info_list/age_input"/>
			<bind nodeset="/data/age_dob" calculate=" int((today() - date(/data/patient_info_list/dob_input)) div 365.25)"/>
			<bind nodeset="/data/parity" calculate="/data/patient_info_list/parity"/>
			<bind nodeset="/data/age_risk_1" calculate="if((/data/age &lt; 18) or (/data/age &gt; 35), 1, 0)"/>
			<bind nodeset="/data/age_no_risk_0" calculate="if((/data/age &gt;=18) or (/data/age &lt;= 35), 1, 0)"/>
			<bind nodeset="/data/para_risk_1" calculate="if(/data/patient_info_list/parity = &quot;primi&quot; or /data/patient_info_list/parity = &quot;multi&quot;, 1, 0)"/>
			<bind nodeset="/data/para_no_risk_0" calculate="if(/data/patient_info_list/parity = &quot;second&quot; or /data/patient_info_list/parity = &quot;third&quot; or /data/patient_info_list/parity = &quot;fourth&quot;,1,0)"/>
			<bind nodeset="/data/edd_calc" calculate="date(/data/patient_info_list/lmp + 274)"/>
			<itext>
				<translation lang="en" default="">
					<text id="patient_info_list/name-label">
						<value>Name:</value>
					</text>
					<text id="patient_info_list/mrd-label">
						<value>MRD:</value>
					</text>
					<text id="patient_info_list/wife_of-label">
						<value>Wife of (W/0):</value>
					</text>
					<text id="patient_info_list/dob_age_choice-label">
						<value>What would you like to enter?</value>
					</text>
					<text id="patient_info_list/dob_age_choice-dob-label">
						<value>Date of Birth</value>
					</text>
					<text id="patient_info_list/dob_age_choice-age-label">
						<value>Age</value>
					</text>
					<text id="patient_info_list/dob_input-label">
						<value>Date of Birth:</value>
					</text>
					<text id="patient_info_list/age_input-label">
						<value>Age:</value>
					</text>
					<text id="patient_info_list/parity-label">
						<value>Parity:</value>
					</text>
					<text id="patient_info_list/parity-primi-label">
						<value>Primi para</value>
					</text>
					<text id="patient_info_list/parity-second-label">
						<value>Second para</value>
					</text>
					<text id="patient_info_list/parity-third-label">
						<value>Third para</value>
					</text>
					<text id="patient_info_list/parity-fourth-label">
						<value>Fourth para</value>
					</text>
					<text id="patient_info_list/parity-multi-label">
						<value>Multi para</value>
					</text>
					<text id="patient_info_list/gravida-label">
						<value>Gravida:</value>
					</text>
					<text id="patient_info_list/gravida-primi-label">
						<value>Primi gravida</value>
					</text>
					<text id="patient_info_list/gravida-second-label">
						<value>Second gravida</value>
					</text>
					<text id="patient_info_list/gravida-third-label">
						<value>Third gravida</value>
					</text>
					<text id="patient_info_list/gravida-fourth-label">
						<value>Fourth gravida</value>
					</text>
					<text id="patient_info_list/gravida-multi-label">
						<value>Multi gravida</value>
					</text>
					<text id="patient_info_list/lmp-label">
						<value>LMP</value>
					</text>
					<text id="icons/clock-label">
						<value/>
						<value form="image">jr://file/commcare/image/data/icons/clock.png</value>
					</text>
					<text id="icons/flag-label">
						<value/>
						<value form="image">jr://file/commcare/image/data/icons/flag.png</value>
					</text>
					<text id="patient_info_list/edd-label">
						<value>EDD: <output value="/data/edd_calc"/></value>
					</text>
				</translation>
				<translation lang="hin">
					<text id="patient_info_list/name-label">
						<value>&#2344;&#2366;&#2350;</value>
					</text>
					<text id="patient_info_list/mrd-label">
						<value>&#2346;&#2306;&#2332;&#2368;&#2325;&#2352;&#2339; &#2360;&#2306;&#2326;&#2381;&#2351;&#2366;</value>
					</text>
					<text id="patient_info_list/wife_of-label">
						<value>&#2346;&#2340;&#2367; &#2325;&#2366; &#2344;&#2366;&#2350;:</value>
					</text>
					<text id="patient_info_list/dob_age_choice-label">
						<value>&#2310;&#2346; &#2325;&#2381;&#2351;&#2366; &#2342;&#2352;&#2381;&#2332; &#2325;&#2352;&#2344;&#2366; &#2330;&#2366;&#2361;&#2375;&#2306;&#2327;&#2375;?
</value>
					</text>
					<text id="patient_info_list/dob_age_choice-dob-label">
						<value>&#2332;&#2344;&#2381;&#2350; &#2325;&#2368; &#2340;&#2367;&#2341;&#2367;</value>
					</text>
					<text id="patient_info_list/dob_age_choice-age-label">
						<value>umar</value>
					</text>
					<text id="patient_info_list/dob_input-label">
						<value>&#2332;&#2344;&#2381;&#2350; &#2325;&#2368; &#2340;&#2367;&#2341;&#2367;:</value>
					</text>
					<text id="patient_info_list/age_input-label">
						<value>&#2313;&#2350;&#2381;&#2352;</value>
					</text>
					<text id="patient_info_list/parity-label">
						<value>&#2346;&#2361;&#2354;&#2375; &#2346;&#2381;&#2352;&#2360;&#2357;&#2379; &#2325;&#2368; &#2327;&#2367;&#2344;&#2340;&#2368;</value>
					</text>
					<text id="patient_info_list/parity-primi-label">
						<value>&#2346;&#2361;&#2354; &#2346;&#2381;&#2352;&#2360;&#2357;</value>
					</text>
					<text id="patient_info_list/parity-second-label">
						<value>&#2342;&#2370;&#2360;&#2352;&#2366; &#2346;&#2381;&#2352;&#2360;&#2357;</value>
					</text>
					<text id="patient_info_list/parity-third-label">
						<value>&#2340;&#2368;&#2360;&#2352;&#2366; &#2346;&#2381;&#2352;&#2360;&#2357;</value>
					</text>
					<text id="patient_info_list/parity-fourth-label">
						<value>&#2330;&#2380;&#2341;&#2366; &#2346;&#2381;&#2352;&#2360;&#2357;</value>
					</text>
					<text id="patient_info_list/parity-multi-label">
						<value>&#2330;&#2366;&#2352; &#2360;&#2375; &#2332;&#2364;&#2381;&#2351;&#2366;&#2342;&#2366; &#2348;&#2366;&#2352; &#2346;&#2381;&#2352;&#2360;&#2357; &#2325;&#2368; &#2327;&#2367;&#2344;&#2340;&#2368;</value>
					</text>
					<text id="patient_info_list/gravida-label">
						<value>&#2327;&#2352;&#2381;&#2349; &#2343;&#2366;&#2352;&#2339; &#2325;&#2352;&#2344;&#2375; &#2325;&#2366; &#2327;&#2367;&#2344;&#2340;&#2368;</value>
					</text>
					<text id="patient_info_list/gravida-primi-label">
						<value>&#2346;&#2361;&#2354;&#2366; &#2327;&#2352;&#2381;&#2349;&#2343;&#2366;&#2352;&#2339;</value>
					</text>
					<text id="patient_info_list/gravida-second-label">
						<value>&#2342;&#2370;&#2360;&#2352;&#2366; &#2327;&#2352;&#2381;&#2349;&#2343;&#2366;&#2352;&#2339;</value>
					</text>
					<text id="patient_info_list/gravida-third-label">
						<value>&#2340;&#2368;&#2360;&#2352;&#2366; &#2327;&#2352;&#2381;&#2349;&#2343;&#2366;&#2352;&#2339;</value>
					</text>
					<text id="patient_info_list/gravida-fourth-label">
						<value>&#2330;&#2380;&#2341;&#2366; &#2327;&#2352;&#2381;&#2349;&#2343;&#2366;&#2352;&#2339;</value>
					</text>
					<text id="patient_info_list/gravida-multi-label">
						<value>&#2330;&#2366;&#2352; &#2360;&#2375; &#2332;&#2364;&#2381;&#2351;&#2366;&#2342;&#2366; &#2327;&#2352;&#2381;&#2349;&#2343;&#2366;&#2352;&#2339;</value>
					</text>
					<text id="patient_info_list/lmp-label">
						<value>&#2310;&#2326;&#2367;&#2352;&#2368; &#2350;&#2366;&#2361;&#2357;&#2366;&#2352;&#2368; &#2325;&#2368; &#2340;&#2366;&#2352;&#2368;&#2326;</value>
					</text>
					<text id="icons/clock-label">
						<value/>
						<value form="image">jr://file/commcare/image/data/icons/clock.png</value>
					</text>
					<text id="icons/flag-label">
						<value/>
						<value form="image">jr://file/commcare/image/data/icons/flag.png</value>
					</text>
					<text id="patient_info_list/edd-label">
						<value>&#2346;&#2381;&#2352;&#2360;&#2357; &#2325;&#2368; &#2309;&#2344;&#2369;&#2350;&#2366;&#2344;&#2367;&#2340; &#2340;&#2366;&#2352;&#2368;&#2326;: <output value="/data/edd_calc"/></value>
					</text>
				</translation>
			</itext>
		<bind calculate="/data/meta/timeEnd" nodeset="/data/case/@date_modified" type="xsd:dateTime"/><bind calculate="/data/meta/userID" nodeset="/data/case/@user_id"/><setvalue event="xforms-ready" ref="/data/case/@case_id" value="uuid()"/><bind calculate="/data/patient_info_list/name" nodeset="/data/case/create/case_name"/><bind calculate="/data/meta/userID" nodeset="/data/case/create/owner_id"/><bind calculate="/data/age" nodeset="/data/case/update/age" relevant="count(/data/age) &gt; 0"/><bind calculate="/data/age_dob" nodeset="/data/case/update/age_dob" relevant="count(/data/age_dob) &gt; 0"/><bind calculate="/data/age_input" nodeset="/data/case/update/age_input" relevant="count(/data/age_input) &gt; 0"/><bind calculate="/data/age_no_risk_0" nodeset="/data/case/update/age_no_risk_0" relevant="count(/data/age_no_risk_0) &gt; 0"/><bind calculate="/data/age_risk_1" nodeset="/data/case/update/age_risk_1" relevant="count(/data/age_risk_1) &gt; 0"/><bind calculate="/data/edd_calc" nodeset="/data/case/update/edd_calc" relevant="count(/data/edd_calc) &gt; 0"/><bind calculate="/data/patient_info_list/gravida" nodeset="/data/case/update/gravida" relevant="count(/data/patient_info_list/gravida) &gt; 0"/><bind calculate="/data/patient_info_list/lmp" nodeset="/data/case/update/lmp" relevant="count(/data/patient_info_list/lmp) &gt; 0"/><bind calculate="/data/patient_info_list/mrd" nodeset="/data/case/update/mrd" relevant="count(/data/patient_info_list/mrd) &gt; 0"/><bind calculate="/data/para_no_risk_0" nodeset="/data/case/update/para_no_risk_0" relevant="count(/data/para_no_risk_0) &gt; 0"/><bind calculate="/data/para_risk_1" nodeset="/data/case/update/para_risk_1" relevant="count(/data/para_risk_1) &gt; 0"/><bind calculate="/data/parity" nodeset="/data/case/update/parity" relevant="count(/data/parity) &gt; 0"/><bind calculate="/data/patient_info_list/wife_of" nodeset="/data/case/update/wife_of" relevant="count(/data/patient_info_list/wife_of) &gt; 0"/><setvalue event="xforms-ready" ref="/data/meta/deviceID" value="instance('commcaresession')/session/context/deviceid"/><setvalue event="xforms-ready" ref="/data/meta/timeStart" value="now()"/><bind nodeset="/data/meta/timeStart" type="xsd:dateTime"/><setvalue event="xforms-revalidate" ref="/data/meta/timeEnd" value="now()"/><bind nodeset="/data/meta/timeEnd" type="xsd:dateTime"/><setvalue event="xforms-ready" ref="/data/meta/username" value="instance('commcaresession')/session/context/username"/><setvalue event="xforms-ready" ref="/data/meta/userID" value="instance('commcaresession')/session/context/userid"/><setvalue event="xforms-ready" ref="/data/meta/instanceID" value="uuid()"/><setvalue event="xforms-ready" ref="/data/meta/appVersion" value="instance('commcaresession')/session/context/appversion"/></model>
	</h:head>
	<h:body>
		<group ref="/data/patient_info_list" appearance="field-list">
			<input ref="/data/patient_info_list/name">
				<label ref="jr:itext('patient_info_list/name-label')"/>
			</input>
			<input ref="/data/patient_info_list/mrd">
				<label ref="jr:itext('patient_info_list/mrd-label')"/>
			</input>
			<input ref="/data/patient_info_list/wife_of">
				<label ref="jr:itext('patient_info_list/wife_of-label')"/>
			</input>
			<select1 ref="/data/patient_info_list/dob_age_choice">
				<label ref="jr:itext('patient_info_list/dob_age_choice-label')"/>
				<item>
					<label ref="jr:itext('patient_info_list/dob_age_choice-dob-label')"/>
					<value>dob</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/dob_age_choice-age-label')"/>
					<value>age</value>
				</item>
			</select1>
			<input ref="/data/patient_info_list/dob_input">
				<label ref="jr:itext('patient_info_list/dob_input-label')"/>
			</input>
			<input ref="/data/patient_info_list/age_input">
				<label ref="jr:itext('patient_info_list/age_input-label')"/>
			</input>
			<select1 ref="/data/patient_info_list/parity">
				<label ref="jr:itext('patient_info_list/parity-label')"/>
				<item>
					<label ref="jr:itext('patient_info_list/parity-primi-label')"/>
					<value>primi</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/parity-second-label')"/>
					<value>second</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/parity-third-label')"/>
					<value>third</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/parity-fourth-label')"/>
					<value>fourth</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/parity-multi-label')"/>
					<value>multi</value>
				</item>
			</select1>
			<select1 ref="/data/patient_info_list/gravida">
				<label ref="jr:itext('patient_info_list/gravida-label')"/>
				<item>
					<label ref="jr:itext('patient_info_list/gravida-primi-label')"/>
					<value>primi</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/gravida-second-label')"/>
					<value>second</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/gravida-third-label')"/>
					<value>third</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/gravida-fourth-label')"/>
					<value>fourth</value>
				</item>
				<item>
					<label ref="jr:itext('patient_info_list/gravida-multi-label')"/>
					<value>multi</value>
				</item>
			</select1>
			<input ref="/data/patient_info_list/lmp">
				<label ref="jr:itext('patient_info_list/lmp-label')"/>
			</input>
		</group>
		<group ref="/data/icons" appearance="field-list">
			<input ref="/data/icons/clock">
				<label ref="jr:itext('icons/clock-label')"/>
			</input>
			<input ref="/data/icons/flag">
				<label ref="jr:itext('icons/flag-label')"/>
			</input>
		</group>
		<group ref="/data/patient_info_cont" appearance="field-list">
			<trigger ref="/data/patient_info_cont/edd" appearance="minimal">
				<label ref="jr:itext('patient_info_list/edd-label')"/>
			</trigger>
		</group>
	</h:body>
</h:html>