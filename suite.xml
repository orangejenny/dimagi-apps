<?xml version='1.0' encoding='UTF-8'?>
<suite version="23" descriptor="Suite File">
  <xform>
    <resource id="8bc002af517c62feceb1fa19246d10f59dbbbc3f" version="18" descriptor="Form: (Module Registration) - Register Patient">
      <location authority="local">./modules-0/forms-0.xml</location>
      <location authority="remote">./modules-0/forms-0.xml</location>
    </resource>
  </xform>
  <xform>
    <resource id="8cd96c1cf8c01e98d7482c00d7e0035f1cd04531" version="18" descriptor="Form: (Module Registration) - Update Patient">
      <location authority="local">./modules-0/forms-1.xml</location>
      <location authority="remote">./modules-0/forms-1.xml</location>
    </resource>
  </xform>
  <xform>
    <resource id="9b7a6cb4bf99f04493ce66c111c381142b321fb8" version="18" descriptor="Form: (Module Registration) - Remove Patient">
      <location authority="local">./modules-0/forms-2.xml</location>
      <location authority="remote">./modules-0/forms-2.xml</location>
    </resource>
  </xform>
  <xform>
    <resource id="4464e5f10c1196ffdee282c1f7286a3b033e02b1" version="23" descriptor="Form: (Module Registration) - Add measurement">
      <location authority="local">./modules-0/forms-3.xml</location>
      <location authority="remote">./modules-0/forms-3.xml</location>
    </resource>
  </xform>
  <xform>
    <resource id="cd09c25b16b162cff49c39dc3842a850c1516b23" version="18" descriptor="Form: (Module Measurement) - Remove measurement">
      <location authority="local">./modules-1/forms-0.xml</location>
      <location authority="remote">./modules-1/forms-0.xml</location>
    </resource>
  </xform>
  <locale language="default">
    <resource id="app_default_strings" version="23" descriptor="Translations: Default Language">
      <location authority="local">./default/app_strings.txt</location>
      <location authority="remote">./default/app_strings.txt</location>
    </resource>
  </locale>
  <locale language="en">
    <resource id="app_en_strings" version="23" descriptor="Translations: English">
      <location authority="local">./en/app_strings.txt</location>
      <location authority="remote">./en/app_strings.txt</location>
    </resource>
  </locale>
  <detail id="m0_case_short">
    <title>
      <text>
        <locale id="m0.case_short.title"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
      <sort type="string" order="1" direction="ascending">
        <text>
          <xpath function="case_name"/>
        </text>
      </sort>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_dob_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="dob"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <value>Partograph</value>
        </text>
      </header>
      <template form="graph">
          <graph type="xy">
	          <configuration>
	              <text id="x-label-count">
	                  <value>0</value>
	              </text>
	              <text id="y-label-count">
	                  <value>0</value>
	              </text>
	          </configuration>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='alert']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffdddd00</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='action']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffdd0000</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='whitespace']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffffffff</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('casedb')/casedb/case[index/parent=current()/@case_id]">
			      <configuration>
			          <text id="point-style">
			              <value>x</value>
			          </text>
			      </configuration>
			      <x function="hours"/>
			      <y function="dilation"/>
			  </series>
			  <series nodeset="instance('casedb')/casedb/case[index/parent=current()/@case_id]">
			      <x function="hours"/>
			      <y function="descent"/>
			  </series>
			  <annotation>
			      <x><text><value>5</value></text></x>
			      <y><text><value>7</value></text></y>
			      <text><value>Alert</value></text>
			  </annotation>
			  <annotation>
			      <x><text><value>10</value></text></x>
			      <y><text><value>7</value></text></y>
			      <text><value>Action</value></text>
			  </annotation>
		  </graph>
	  </template>
    </field>
  </detail>
  <detail id="m0_case_long">
    <title>
      <text>
        <locale id="m0.case_long.title"/>
      </text>
    </title>
    <variables>
        <xmax function="12"/>
    </variables>
    <field>
      <header>
        <text>
          <locale id="m0.case_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_long.case_dob_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="dob"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_long.case_gravida_3.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="gravida"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
            <value>Partograph</value>
        </text>
      </header>
      <template form="graph">
          <graph type="xy">
	          <configuration>
	              <text id="x-label-count">
	                  <value>13</value>
	              </text>
	              <text id="y-label-count">
	                  <value>13</value>
	              </text>
	              <text id="y-axis-title">
	                  <value>Heart Rate</value>
	              </text>
	              <text id="x-axis-min">
	                  <value>0</value>
	              </text>
	              <text id="x-axis-max">
	                  <xpath function="$xmax"/>
	              </text>
	              <text id="y-axis-min">
	                  <value>80</value>
	              </text>
	              <text id="y-axis-max">
	                  <value>200</value>
	              </text>
	          </configuration>
			  <series nodeset="instance('casedb')/casedb/case[@case_type='measurement'][index/parent=current()/@case_id]">
			      <x function="hours"/>
			      <y function="heart_rate"/>
			  </series>
			  <series nodeset="instance('heart-rate-thresholds')/thresholds/series[@id='min']/point">
			      <configuration>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('heart-rate-thresholds')/thresholds/series[@id='max']/point">
			      <configuration>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
		  </graph>
	  </template>
    </field>
    <field>
      <header>
        <text>
          <value></value>
        </text>
      </header>
      <template form="graph">
          <graph type="xy">
              <configuration>
	              <text id="x-label-count">
	                  <value>13</value>
	              </text>
	              <text id="y-label-count">
	                  <value>11</value>
	              </text>
	              <text id="y-axis-title">
	                  <value>Dilation / Descent of Head (cm)</value>
	              </text>
                  <text id="x-axis-min">
                      <value>0</value>
                  </text>
                  <text id="x-axis-max">
                      <xpath function="$xmax"/>
                  </text>
                  <text id="y-axis-min">
                      <value>0</value>
                  </text>
                  <text id="y-axis-max">
                      <value>10</value>
                  </text>
              </configuration>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='alert']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffdddd00</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='action']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffdd0000</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('dilation-thresholds')/thresholds/series[@id='whitespace']/point">
			      <configuration>
			          <text id="fill-below">
			              <value>#ffffffff</value>
			          </text>
			          <text id="line-color">
			              <value>#00000000</value>
			          </text>
			          <text id="point-style">
			              <value>none</value>
			          </text>
			      </configuration>
			      <x function="x"/>
			      <y function="y"/>
			  </series>
			  <series nodeset="instance('casedb')/casedb/case[index/parent=current()/@case_id]">
			      <configuration>
			          <text id="point-style">
			              <value>x</value>
			          </text>
			      </configuration>
			      <x function="hours"/>
			      <y function="dilation"/>
			  </series>
			  <series nodeset="instance('casedb')/casedb/case[index/parent=current()/@case_id]">
			      <x function="hours"/>
			      <y function="descent"/>
			  </series>
			  <annotation>
			      <x><text><value>5</value></text></x>
			      <y><text><value>7</value></text></y>
			      <text><value>Alert</value></text>
			  </annotation>
			  <annotation>
			      <x><text><value>10</value></text></x>
			      <y><text><value>7</value></text></y>
			      <text><value>Action</value></text>
			  </annotation>
		  </graph>
	  </template>
    </field>
    <field>
      <header>
        <text>
            <value/>
        </text>
      </header>
      <template form="graph">
          <graph type="bubble">
	          <configuration>
	              <text id="x-label-count">
	                  <value>13</value>
	              </text>
	              <text id="y-label-count">
	                  <value>5</value>
	              </text>
	              <text id="x-axis-title">
	                  <value>Hours</value>
	              </text>
	              <text id="y-axis-title">
	                  <value>Contractions</value>
	              </text>
	              <text id="x-axis-min">
	                  <value>0</value>
	              </text>
	              <text id="x-axis-max">
	                  <xpath function="$xmax"/>
	              </text>
	              <text id="y-axis-min">
	                  <value>0</value>
	              </text>
	              <text id="y-axis-max">
	                  <value>5</value>
	              </text>
	          </configuration>
			  <series nodeset="instance('casedb')/casedb/case[index/parent=current()/@case_id]">
			      <x function="hours" />
			      <y function="contraction_frequency" />
			      <radius function="contraction_length" />
			  </series>
		  </graph>
	  </template>
    </field>
  </detail>
  <detail id="m1_case_short">
    <title>
      <text>
        <locale id="m1.case_short.title"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.case_short.case_parent/name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="instance('casedb')/casedb/case[@case_id=index/parent]/case_name"/>
        </text>
      </template>
      <sort type="string" order="1" direction="ascending">
        <text>
          <xpath function="instance('casedb')/casedb/case[@case_id=index/parent]/case_name"/>
        </text>
      </sort>
    </field>
  </detail>
  <detail id="m1_case_long">
    <title>
      <text>
        <locale id="m1.case_long.title"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.case_long.case_parent/name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="instance('casedb')/casedb/case[@case_id=index/parent]/case_name"/>
        </text>
      </template>
    </field>
  </detail>
  <entry>
    <form>http://openrosa.org/formdesigner/FCDF9EEC-E073-4FEE-AFFE-23B6FE6222D2</form>
    <command id="m0-f0">
      <text>
        <locale id="forms.m0f0"/>
      </text>
    </command>
  </entry>
  <entry>
    <form>http://openrosa.org/formdesigner/229F482D-25ED-4462-B6CA-2AEA28F34296</form>
    <command id="m0-f1">
      <text>
        <locale id="forms.m0f1"/>
      </text>
    </command>
    <instance id="casedb" src="jr://instance/casedb"/>
    <instance id="dilation-thresholds" src="jr://instance/fixture/dilation-thresholds" />
    <instance id="heart-rate-thresholds" src="jr://instance/fixture/heart-rate-thresholds" />
    <session>
      <datum id="case_id" nodeset="instance('casedb')/casedb/case[@case_type='patient'][@status='open']" value="./@case_id" detail-select="m0_case_short" detail-confirm="m0_case_long"/>
    </session>
  </entry>
  <entry>
    <form>http://openrosa.org/formdesigner/4F71C7C5-43A9-4555-8844-07F50AC02497</form>
    <command id="m0-f2">
      <text>
        <locale id="forms.m0f2"/>
      </text>
    </command>
    <instance id="casedb" src="jr://instance/casedb"/>
    <instance id="dilation-thresholds" src="jr://instance/fixture/dilation-thresholds" />
    <instance id="heart-rate-thresholds" src="jr://instance/fixture/heart-rate-thresholds" />
    <session>
      <datum id="case_id" nodeset="instance('casedb')/casedb/case[@case_type='patient'][@status='open']" value="./@case_id" detail-select="m0_case_short" detail-confirm="m0_case_long"/>
    </session>
  </entry>
  <entry>
    <form>http://openrosa.org/formdesigner/BF874B99-9049-4B1B-BF5D-EDCF0E0240F6</form>
    <command id="m0-f3">
      <text>
        <locale id="forms.m0f3"/>
      </text>
    </command>
    <instance id="casedb" src="jr://instance/casedb"/>
    <instance id="dilation-thresholds" src="jr://instance/fixture/dilation-thresholds" />
    <instance id="heart-rate-thresholds" src="jr://instance/fixture/heart-rate-thresholds" />
    <session>
      <datum id="case_id" nodeset="instance('casedb')/casedb/case[@case_type='patient'][@status='open']" value="./@case_id" detail-select="m0_case_short" detail-confirm="m0_case_long"/>
    </session>
  </entry>
  <entry>
    <command id="m0-case-list">
      <text>
        <locale id="case_lists.m0"/>
      </text>
    </command>
    <instance id="casedb" src="jr://instance/casedb"/>
    <instance id="dilation-thresholds" src="jr://instance/fixture/dilation-thresholds" />
    <instance id="heart-rate-thresholds" src="jr://instance/fixture/heart-rate-thresholds" />
    <session>
      <datum id="case_id" nodeset="instance('casedb')/casedb/case[@case_type='patient'][@status='open']" value="./@case_id" detail-select="m0_case_short" detail-confirm="m0_case_long"/>
    </session>
  </entry>
  <entry>
    <form>http://openrosa.org/formdesigner/3EFCB26E-EE4D-462D-B599-BF3F8C1EC8BE</form>
    <command id="m1-f0">
      <text>
        <locale id="forms.m1f0"/>
      </text>
    </command>
    <instance id="casedb" src="jr://instance/casedb"/>
    <instance id="dilation-thresholds" src="jr://instance/fixture/dilation-thresholds" />
    <instance id="heart-rate-thresholds" src="jr://instance/fixture/heart-rate-thresholds" />
    <session>
      <datum id="case_id" nodeset="instance('casedb')/casedb/case[@case_type='measurement'][@status='open']" value="./@case_id" detail-select="m1_case_short" detail-confirm="m1_case_long"/>
    </session>
  </entry>
  <menu id="root">
    <text>
      <locale id="modules.m0"/>
    </text>
    <command id="m0-f0"/>
    <command id="m0-f1"/>
    <command id="m0-f2"/>
    <command id="m0-f3"/>
    <command id="m0-case-list"/>
  </menu>
  <menu id="root">
    <text>
      <locale id="modules.m1"/>
    </text>
    <command id="m1-f0"/>
  </menu>
  <fixture id="heart-rate-thresholds">
      <thresholds>
          <series id="min">
              <point>
                  <x>0</x>
                  <y>100</y>
              </point>
              <point>
                  <x>12</x>
                  <y>100</y>
              </point>
          </series>
          <series id="max">
              <point>
                  <x>0</x>
                  <y>180</y>
              </point>
              <point>
                  <x>12</x>
                  <y>180</y>
              </point>
          </series>
      </thresholds>
  </fixture>
  <fixture id="dilation-thresholds"> <!-- TODO: max x values here, and above, need to be flexible -->
      <thresholds>
	      <series id="alert">
	          <point>
	              <x>0</x>
	              <y>4</y>
	          </point>
	          <point>
	              <x>6</x>
	              <y>10</y>
	          </point>
	          <point>
	              <x>12</x>
	              <y>10</y>
	          </point>
	      </series>
	      <series id="action">
	          <point>
	              <x>4</x>
	              <y>4</y>
	          </point>
	          <point>
	              <x>10</x>
	              <y>10</y>
	          </point>
	          <point>
	              <x>12</x>
	              <y>10</y>
	          </point>
	      </series>
	      <series id="whitespace">
	          <point>
	              <x>0</x>
	              <y>4</y>
	          </point>
	          <point>
	              <x>12</x>
	              <y>4</y>
	          </point>
	      </series>
	  </thresholds>
  </fixture>
</suite>
